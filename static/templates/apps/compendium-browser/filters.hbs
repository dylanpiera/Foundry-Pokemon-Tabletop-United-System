<div class="control-area">
    <div class="sortcontainer" id="tagfilter">
        <input name="textFilter" type="search" value="{{filterData.search.text}}" placeholder="{{localize "PTU.CompendiumBrowser.Search.Placeholder"}}" title="{{localize "PTU.CompendiumBrowser.Search.Title"}}" />
        <dl class="sort">
            <dt>{{localize "PTU.CompendiumBrowser.Filter.SortBy"}}:</dt>
            <dd>
                <select class="order">
                    {{selectOptions filterData.order.options selected=filterData.order.by localize=true}}
                </select>
                <a class="direction" data-type="alpha" data-direction="{{filterData.order.direction}}">
                    {{#if (eq filterData.order.direction "asc")}}
                        {{#if (eq filterData.order.by "name")}}
                            <i class="fas fa-sort-alpha-up"></i>
                        {{else}}
                            <i class="fas fa-sort-numeric-up"></i>
                        {{/if}}
                    {{else}}
                        {{#if (eq filterData.order.by "name")}}
                            <i class="fas fa-sort-alpha-down-alt"></i>
                        {{else}}
                            <i class="fas fa-sort-numeric-down-alt"></i>
                        {{/if}}
                    {{/if}}
                </a>
            </dd>
        </dl>
        {{#each filterData.selects as |selectData type|}}
            <dl class="{{type}}">
                <dt>{{localize selectData.label}}:</dt>
                <dd><select name="{{type}}">
                    <option value="">-</option>
                    {{selectOptions selectData.options selected=selectData.selected}}
                </select></dd>
            </dl>
        {{/each}}
        <button type="button" class="clear-filters">{{localize "PTU.CompendiumBrowser.Filter.ClearFilters"}}</button>
    </div>
    {{#each filterData.checkboxes as |checkbox name|}}
        <div class="filtercontainer" data-filter-type="checkboxes" data-filter-name="{{name}}">
            <div class="title">
                <h3>{{localize checkbox.label}}</h3>
                {{#if checkbox.selected.length}}
                    <button type="button" data-action="clear-filter" {{#if (not checkbox.isExpanded true)}}style="display: none;"{{/if}}>{{localize "PTU.CompendiumBrowser.Filter.ClearFilters"}}</button>
                {{/if}}
            </div>
            <dl {{#if (not checkbox.isExpanded true)}}style="display: none;"{{/if}}>
                {{#each checkbox.options as |option type|}}
                    <label>
                        <dt><input type="checkbox" name="{{type}}" {{checked option.selected}} /></dt>
                        <dd>{{localize option.label}}</dd>
                    </label>
                {{/each}}
            </dl>
        </div>
    {{/each}}
    {{#each filterData.multiselects as |selectData type|}}
        <div class="filtercontainer" data-filter-type="multiselects" data-filter-name="{{type}}">
            <h3>{{localize selectData.label}}</h3>
            <input class="ptu-tagify" name="{{type}}" data-tagify-select="true" spellcheck="false" value="{{json selectData.selected}}" />
            <div class="filter-conjunction">
                <label><input type="radio" name="{{type}}-filter-conjunction" value="and"{{#if (eq selectData.conjunction "and")}} checked{{/if}}><span>{{localize "PTU.CompendiumBrowser.Filter.AndLabel"}}</span></label>
                <label><input type="radio" name="{{type}}-filter-conjunction" value="or"{{#if (eq selectData.conjunction "or")}} checked{{/if}}><span>{{localize "PTU.CompendiumBrowser.Filter.OrLabel"}}</span></label>
            </div>
        </div>
    {{/each}}
    {{#each filterData.ranges as |range name|}}
        <div class="filtercontainer rangecontainer" data-filter-type="ranges" data-filter-name="{{name}}">
            <div class="title">
                <h3>{{localize range.label}}</h3>
                {{#if range.changed}}
                    <button type="button" data-action="clear-filter" {{#if (not range.isExpanded true)}}style="display: none;"{{/if}}>{{localize "PTU.CompendiumBrowser.Filter.ClearFilters"}}</button>
                {{/if}}
            </div>
            <div {{#if (not range.isExpanded true)}}style="display: none;"{{/if}}>
                <input type="search" name="lowerBound-level" value="{{range.values.inputMin}}" placeholder="0cp">
                -
                <input type="search" name="upperBound-level" value="{{range.values.inputMax}}" placeholder="200,000gp">
            </div>
        </div>
    {{/each}}
    {{#each filterData.sliders as |slider name|}}
        <div class="filtercontainer slidercontainer" data-filter-type="sliders" data-filter-name="{{name}}">
            <div class="title">
                <h3>{{localize slider.label}}</h3>
                {{#if slider.changed}}
                    <button type="button" data-action="clear-filter" {{#if (not slider.isExpanded true)}}style="display: none;"{{/if}}>{{localize "PTU.CompendiumBrowser.Filter.ClearFilters"}}</button>
                {{/if}}
            </div>
            <div class="slidercontainer-flex">
                <label id="{{name}}-min-label">{{slider.values.min}}</label>
                <div class="slider-{{name}}"></div>
                <label id="{{name}}-max-label">{{slider.values.max}}</label>
            </div>
        </div>
    {{/each}}
</div>